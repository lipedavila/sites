<!DOCTYPE html>
<html>
<head>
  <title>Chatbot</title>
</head>
<body>
  <h1>Chatbot</h1>

  <form id="chatbot-form">
    <label for="user-input">Sua mensagem:</label>
    <input type="text" id="user-input">
    <button type="submit">Enviar</button>
  </form>

  <div id="chatbot-response"></div>

  <script>
    // Crie uma função para lidar com as solicitações do usuário
    function chatbotResponse(userQuery) {
      // Use a API fetch para enviar uma solicitação para o endpoint da API
      fetch(
        `https://corsproxy.io/?https://hercai.onrender.com/v3/hercai?question=${userQuery}`
      )
        .then((response) => response.json())
        .then((data) => {
          // Obtenha a resposta do chatbot a partir dos dados recebidos
          const chatbotResponse = data.answer;

          // Exiba a resposta do chatbot na interface do usuário
          const responseElement = document.getElementById("chatbot-response");
          responseElement.innerHTML = `Chatbot: ${chatbotResponse}`;
        })
        .catch((error) => {
          // Trate os erros que possam ocorrer durante a solicitação
          console.error("Erro ao enviar a solicitação:", error);
        });
    }

    // Crie uma função para lidar com as mensagens do usuário
    function userMessage(event) {
      // Obtenha a mensagem do usuário a partir do evento
      event.preventDefault();
      const userQuery = event.target.querySelector("input#user-input").value;

      // Envie a mensagem do usuário para o chatbot
      chatbotResponse(userQuery);
    }

    // Adicione um ouvinte de eventos para capturar as mensagens do usuário
    const chatbotForm = document.getElementById("chatbot-form");
    chatbotForm.addEventListener("submit", userMessage);
  </script>
</body>
</html>
